- defaults:
    link:
      relink: true
      create: true

# clean config and home directory from bad symbolic links
- clean: ['~', '.config/']

- link:
    ~/.zshrc:
      force: true
      path: shell/zshrc
    ~/.tmux.conf:
      path: shell/tmux.conf
    ~/.config/nvim:
      path: nvim
    ~/.config/kitty:
      path: kitty

- shell:
  # install znap (zsh plugin manager)
  - command: 'if [ ! -d ~/.znap/znap ]; then sh -c "$(git clone --depth 1 -- https://github.com/marlonrichert/zsh-snap.git ~/.znap/znap)"; fi'
    stdin: false
    stdout: true
    description: "Installing znap (zsh-snap):"
    quiet: false

  # install vim plug for nvim
  - [curl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim, "Install vim-plug for nvim:"]
  
  # install & upgrade nvim plugins
  - command: nvim +PlugUpgrade +PlugUpdate +qall
    stdin: true
    stdout: true
    description: "Install nvim plugins! Hit enter once if stuck:"
    quiet: false
